<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursive Protocol: Architecture & Use Cases</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #fafaf9;
            color: #292524;
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            color: #1c1917;
        }

        .subtitle {
            font-size: 1.125rem;
            color: #57534e;
            margin-bottom: 3rem;
            font-weight: 300;
        }

        .section {
            background: white;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            color: #292524;
            border-bottom: 1px solid #e7e5e4;
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.125rem;
            font-weight: 400;
            margin: 1.5rem 0 1rem;
            color: #44403c;
        }

        .architecture {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .layer {
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            padding: 1.5rem;
            background: #fafaf9;
        }

        .layer h3 {
            margin-top: 0;
            color: #1c1917;
        }

        .layer ul {
            list-style: none;
            padding: 0;
        }

        .layer li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f5f5f4;
            font-size: 0.875rem;
            color: #57534e;
        }

        .layer li:last-child {
            border-bottom: none;
        }

        .layer li:before {
            content: "‚Üí ";
            color: #a8a29e;
        }

        .use-case {
            border: 1px solid #d6d3d1;
            border-radius: 2px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background: white;
        }

        .use-case h3 {
            margin-top: 0;
            color: #1c1917;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: #f5f5f4;
            border-radius: 2px;
            font-size: 0.75rem;
            font-weight: 400;
            color: #57534e;
        }

        .flow {
            margin: 1rem 0;
            padding: 1rem;
            background: #fafaf9;
            border-left: 2px solid #e7e5e4;
            font-family: monospace;
            font-size: 0.875rem;
            line-height: 1.8;
            color: #44403c;
        }

        .components {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .component {
            padding: 0.5rem 0.75rem;
            background: #e7e5e4;
            border-radius: 2px;
            font-size: 0.75rem;
            color: #292524;
        }

        .component.core {
            background: #d6d3d1;
        }

        .component.solo {
            background: #a8a29e;
            color: white;
        }

        .component.cohort {
            background: #78716c;
            color: white;
        }

        .interactive-demo {
            margin-top: 2rem;
            padding: 1.5rem;
            background: #fafaf9;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
        }

        button {
            padding: 0.75rem 1.5rem;
            background: white;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            cursor: pointer;
            font-size: 0.875rem;
            color: #292524;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            transition: none;
        }

        button:hover {
            background: #292524;
            color: #fafaf9;
        }

        button.active {
            background: #292524;
            color: #fafaf9;
        }

        .demo-content {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            min-height: 300px;
        }

        .hidden {
            display: none;
        }

        .data-flow {
            display: grid;
            grid-template-columns: 1fr auto 1fr auto 1fr;
            align-items: center;
            gap: 1rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background: #fafaf9;
        }

        .data-node {
            padding: 1rem;
            background: white;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            text-align: center;
        }

        .data-arrow {
            color: #a8a29e;
            font-size: 1.5rem;
        }

        .legend {
            display: flex;
            gap: 1.5rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background: #fafaf9;
            border-radius: 2px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .legend-color {
            width: 1rem;
            height: 1rem;
            border-radius: 2px;
        }

        code {
            background: #f5f5f4;
            padding: 0.125rem 0.25rem;
            border-radius: 2px;
            font-family: monospace;
            font-size: 0.875rem;
        }

        .canvas-demo {
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            cursor: crosshair;
            background: white;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .gallery-item {
            aspect-ratio: 1;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            padding: 0.5rem;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: #57534e;
        }

        .featured {
            border: 2px solid #292524;
        }

        .math-problem {
            padding: 1.5rem;
            background: white;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            margin-bottom: 1rem;
        }

        .peer-suggestion {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: #fafaf9;
            border: 1px solid #e7e5e4;
            border-radius: 2px;
            margin-top: 0.5rem;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #d6d3d1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .data-flow {
                grid-template-columns: 1fr;
            }
            .data-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cursive Protocol</h1>
        <p class="subtitle">Documents that understand themselves ‚Ä¢ Human-curated publishing ‚Ä¢ Intelligence-augmented authorship</p>

        <!-- Architecture Section -->
        <div class="section">
            <h2>Protocol Architecture</h2>
            <div class="architecture">
                <div class="layer">
                    <h3>Core Layer (Required)</h3>
                    <ul>
                        <li>Page format (TipTap JSON)</li>
                        <li>Ink strokes (vector paths)</li>
                        <li>Provenance signatures</li>
                        <li>Embeddings header</li>
                        <li>Routing hints (JSON-Logic)</li>
                        <li>Explainability metadata</li>
                        <li>Export format (.cursive.zip)</li>
                    </ul>
                </div>

                <div class="layer">
                    <h3>Solo Profile</h3>
                    <ul>
                        <li>Core layer (sufficient)</li>
                        <li>Semantic operations</li>
                        <li>Gap detection</li>
                        <li>Similarity search</li>
                        <li>Self-routing pages</li>
                    </ul>
                </div>

                <div class="layer">
                    <h3>Cohort Profile</h3>
                    <ul>
                        <li>Everything in Solo, plus:</li>
                        <li>Curation manifests (signed)</li>
                        <li>Capability grants (UCAN)</li>
                        <li>Invitation envelopes</li>
                        <li>Privacy labels</li>
                        <li>Gallery primitives</li>
                    </ul>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #e7e5e4;"></div>
                    <span>Core Components</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #a8a29e;"></div>
                    <span>Solo Profile</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #78716c;"></div>
                    <span>Cohort Profile</span>
                </div>
            </div>
        </div>

        <!-- Use Cases Section -->
        <div class="section">
            <h2>Three Use Cases</h2>

            <!-- Use Case 1: Drawing Game -->
            <div class="use-case">
                <h3>
                    <span>1. Collaborative Drawing Game: "Exquisite Corpse"</span>
                    <span class="badge">Cohort Profile</span>
                </h3>
                <p><strong>Scenario:</strong> Weekly drawing challenge where participants create sequential art, host curates best chains for gallery</p>
                
                <div class="flow">Host creates invitation with drawing prompt
‚Üì
Participants receive via mail (scheduled release)
‚Üì
Each draws on Cursive Page (ink strokes recorded)
‚Üì
Routing hint: "find_similar(style)" suggests next artist
‚Üì
Chain forms: Artist A ‚Üí Artist B ‚Üí Artist C
‚Üì
Proof-of-human verifies authentic handwork (stroke variance)
‚Üì
Host curates gallery: featured/visible/hidden with rationale
‚Üì
Curation manifest published (signed, portable)
‚Üì
Community views gallery, sees process timeline</div>

                <div class="components">
                    <span class="component core">Pages + Ink</span>
                    <span class="component core">Embeddings (style vectors)</span>
                    <span class="component core">Routing Hints</span>
                    <span class="component cohort">Invitations</span>
                    <span class="component cohort">Curation Manifest</span>
                    <span class="component cohort">Gallery</span>
                    <span class="component core">Proof-of-Human</span>
                </div>

                <h4>Data Flow:</h4>
                <div class="data-flow">
                    <div class="data-node">
                        <strong>Invitation</strong><br>
                        <small>Scheduled prompt</small>
                    </div>
                    <div class="data-arrow">‚Üí</div>
                    <div class="data-node">
                        <strong>Page + Ink</strong><br>
                        <small>Drawing created</small>
                    </div>
                    <div class="data-arrow">‚Üí</div>
                    <div class="data-node">
                        <strong>Curation</strong><br>
                        <small>Host selects</small>
                    </div>
                </div>
            </div>

            <!-- Use Case 2: Calculus Book -->
            <div class="use-case">
                <h3>
                    <span>2. Adaptive Calculus Textbook</span>
                    <span class="badge">Solo Profile</span>
                    <span class="badge">Cohort Profile</span>
                </h3>
                <p><strong>Scenario:</strong> Self-paced learning with semantic routing, gap detection, and peer help via Chrome extension</p>
                
                <div class="flow">Student reads Chapter 3: Integration by Parts
‚Üì
Struggles on practice problems (proof-of-human: many corrections)
‚Üì
Page embedding: [0.234, -0.123, ...] (concept vector)
‚Üì
Routing hint: detect_gap(prerequisites)
  ‚Üí Distance to "u-substitution" = 0.6 (gap detected!)
‚Üì
System routes to remedial section automatically
‚Üì
Student still stuck ‚Üí clicks "Ask for help" (Chrome extension)
‚Üì
Extension: find_similar_peers(
  topic: "integration",
  knows: ["u-substitution"],
  available: true
)
‚Üì
Suggests peer Sarah (cosine similarity: 0.85, online now)
‚Üì
Capability grant: student can @mention Sarah in page margin
‚Üì
Sarah receives notification ‚Üí offers help via annotation tool
‚Üì
After mastery, routing hint: navigate("advanced_techniques")</div>

                <div class="components">
                    <span class="component core">Pages (textbook content)</span>
                    <span class="component core">Embeddings (concept space)</span>
                    <span class="component core">Routing Hints</span>
                    <span class="component solo">Gap Detection</span>
                    <span class="component solo">Similarity Search</span>
                    <span class="component cohort">Peer Discovery</span>
                    <span class="component cohort">Capability Grants (@mention)</span>
                    <span class="component core">Proof-of-Human (struggle detection)</span>
                </div>

                <h4>Chrome Extension Flow:</h4>
                <div class="data-flow">
                    <div class="data-node">
                        <strong>Detect Struggle</strong><br>
                        <small>Corrections tracked</small>
                    </div>
                    <div class="data-arrow">‚Üí</div>
                    <div class="data-node">
                        <strong>Find Peer</strong><br>
                        <small>Embedding distance</small>
                    </div>
                    <div class="data-arrow">‚Üí</div>
                    <div class="data-node">
                        <strong>Request Help</strong><br>
                        <small>Capability grant</small>
                    </div>
                </div>
            </div>

            <!-- Use Case 3: Research Lab Journal -->
            <div class="use-case">
                <h3>
                    <span>3. Lab Research Journal with GPS Fieldwork</span>
                    <span class="badge">Solo Profile</span>
                    <span class="badge">Cohort Profile</span>
                </h3>
                <p><strong>Scenario:</strong> Biologists doing field research with GPS-anchored observations, transclusions, and verified portfolios</p>
                
                <div class="flow">Researcher visits field site (GPS: 47.6062¬∞N, 122.3321¬∞W)
‚Üì
Creates observation page (photos, notes, drawings)
‚Üì
Page carries GPS anchor + timestamp (consent-based)
‚Üì
Routing hint: find_nearby_observations(radius: 500m)
  ‚Üí Shows 3 past observations at same location
‚Üì
Researcher transcludes relevant past observation into current page
‚Üì
Lab daily page auto-transcludes today's field entries
‚Üì
Monthly: PI curates "Significant Findings" gallery
  ‚Üí Curation manifest: featured observations with scientific rationale
‚Üì
Grant season: Export .cursive.zip as verified research portfolio
  ‚Üí Includes: GPS provenance, photo timestamps, sketch process
  ‚Üí Proof-of-human: all observations hand-drawn, not AI-generated
‚Üì
Publish findings: Curation manifest becomes supplementary material
  ‚Üí Reviewers can verify field authenticity via GPS + timestamps</div>

                <div class="components">
                    <span class="component core">Pages (observations)</span>
                    <span class="component core">GPS Anchors (opt-in)</span>
                    <span class="component core">Transclusion</span>
                    <span class="component solo">Spatial Routing (nearby)</span>
                    <span class="component cohort">Daily Page Pattern</span>
                    <span class="component cohort">Gallery Curation</span>
                    <span class="component core">Export (.cursive.zip)</span>
                    <span class="component core">Proof-of-Human (field authenticity)</span>
                </div>

                <h4>What This Uses That Others Don't:</h4>
                <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                    <li><strong>GPS Anchors:</strong> Place-based content with privacy controls</li>
                    <li><strong>Transclusion:</strong> Reference past work while maintaining provenance</li>
                    <li><strong>Spatial Routing:</strong> "find_nearby" based on location embeddings</li>
                    <li><strong>Export as Portfolio:</strong> Verified research output with full provenance</li>
                    <li><strong>Scientific Curation:</strong> Evidence-based gallery with peer review rationale</li>
                </ul>
            </div>
        </div>

        <!-- Interactive Demo Section -->
        <div class="section">
            <h2>Interactive Demonstrations</h2>
            
            <div class="interactive-demo">
                <button onclick="showDemo('drawing')" class="active" id="btn-drawing">Drawing Game</button>
                <button onclick="showDemo('calculus')" id="btn-calculus">Calculus Textbook</button>
                <button onclick="showDemo('research')" id="btn-research">Research Lab</button>

                <!-- Drawing Demo -->
                <div id="demo-drawing" class="demo-content">
                    <h3>Exquisite Corpse Drawing Chain</h3>
                    <p style="margin-bottom: 1rem; color: #57534e;">Draw something, see how the system finds the next artist based on style similarity</p>
                    
                    <canvas id="drawingCanvas" class="canvas-demo" width="400" height="300"></canvas>
                    <div style="margin-top: 1rem;">
                        <button onclick="clearCanvas()">Clear</button>
                        <button onclick="analyzeDrawing()">Analyze Style</button>
                    </div>
                    
                    <div id="styleAnalysis" style="margin-top: 1rem; display: none;">
                        <h4>Style Analysis:</h4>
                        <p><strong>Embedding Vector:</strong> <code>[0.234, -0.456, 0.123, ...]</code></p>
                        <p><strong>Next Artist Suggestion:</strong></p>
                        <div class="peer-suggestion">
                            <div class="avatar">SA</div>
                            <div>
                                <strong>Sarah Anderson</strong><br>
                                <small>Cosine similarity: 0.87 ‚Ä¢ Similar style: gestural, loose strokes</small>
                            </div>
                        </div>
                    </div>

                    <h4 style="margin-top: 2rem;">Curated Gallery:</h4>
                    <div class="gallery-grid">
                        <div class="gallery-item featured">
                            <div style="font-size: 2rem;">üé®</div>
                            <div><strong>Featured</strong></div>
                            <small>Chain: A‚ÜíB‚ÜíC</small>
                        </div>
                        <div class="gallery-item">
                            <div style="font-size: 2rem;">‚úèÔ∏è</div>
                            <div>Visible</div>
                            <small>Chain: D‚ÜíE</small>
                        </div>
                        <div class="gallery-item">
                            <div style="font-size: 2rem;">üñäÔ∏è</div>
                            <div>Visible</div>
                            <small>Solo work</small>
                        </div>
                    </div>
                </div>

                <!-- Calculus Demo -->
                <div id="demo-calculus" class="demo-content hidden">
                    <h3>Adaptive Calculus Navigation</h3>
                    
                    <div class="math-problem">
                        <h4>Current Topic: Integration by Parts</h4>
                        <p style="margin: 1rem 0;">Solve: ‚à´ x¬∑eÀ£ dx</p>
                        <p style="color: #57534e; font-size: 0.875rem;">Student has made 7 attempts with corrections...</p>
                    </div>

                    <div style="background: #fafaf9; padding: 1rem; border-radius: 2px; margin-bottom: 1rem;">
                        <h4 style="margin-top: 0;">Gap Detected:</h4>
                        <p style="margin-bottom: 1rem;">
                            <strong>Prerequisite missing:</strong> u-substitution<br>
                            <small>Embedding distance: 0.6 (gap threshold: 0.4)</small>
                        </p>
                        <button onclick="alert('Routing to: Chapter 2.3 - u-Substitution Fundamentals')">Go to Remedial Section</button>
                    </div>

                    <h4>Need Help? Available Peers:</h4>
                    <div class="peer-suggestion">
                        <div class="avatar">SK</div>
                        <div>
                            <strong>Sarah Kim</strong><br>
                            <small>Knows: u-substitution, integration by parts ‚Ä¢ Available now</small><br>
                            <small>Similarity: 0.85 ‚Ä¢ Has helped 3 students this week</small>
                        </div>
                        <button onclick="alert('Capability grant: You can now @mention Sarah in your notes')">Ask for Help</button>
                    </div>
                </div>

                <!-- Research Demo -->
                <div id="demo-research" class="demo-content hidden">
                    <h3>Field Research with GPS + Transclusion</h3>
                    
                    <div style="background: #fafaf9; padding: 1rem; border-radius: 2px; margin-bottom: 1rem;">
                        <h4 style="margin-top: 0;">Current Observation:</h4>
                        <p><strong>Location:</strong> Discovery Park, Seattle (47.6597¬∞N, 122.4122¬∞W)</p>
                        <p><strong>Date:</strong> November 5, 2025, 2:30 PM</p>
                        <p><strong>Notes:</strong> Observed 3 Great Blue Herons at low tide...</p>
                    </div>

                    <h4>Nearby Past Observations (within 500m):</h4>
                    <div style="border: 1px solid #e7e5e4; border-radius: 2px; padding: 1rem; margin-bottom: 1rem;">
                        <p><strong>Oct 12, 2024:</strong> "Heron nesting behavior at same location"</p>
                        <small>Distance: 120m ‚Ä¢ Author: Dr. Chen</small><br>
                        <button onclick="alert('Transclusion created: Past observation now referenced in current page')" style="margin-top: 0.5rem;">Transclude This</button>
                    </div>

                    <h4>Export Options:</h4>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button onclick="alert('.cursive.zip exported with:\n- 47 observation pages\n- GPS provenance for each\n- All hand-drawn sketches (proof-of-human)\n- Curation manifest (PI-selected findings)')">Export as Portfolio</button>
                        <button onclick="alert('Publishing curation manifest:\n- 12 significant findings\n- Each with scientific rationale\n- GPS + timestamp verification\n- Reviewable by grant committee')">Publish Findings</button>
                    </div>

                    <div style="margin-top: 2rem; padding: 1rem; background: #fafaf9; border-left: 2px solid #292524;">
                        <strong>Why This Works for Research:</strong>
                        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                            <li>GPS proves you were actually in the field</li>
                            <li>Timestamps verify real-time observations</li>
                            <li>Proof-of-human shows hand-drawn sketches (not AI)</li>
                            <li>Transclusion maintains research continuity</li>
                            <li>Export creates verified portfolio for grants/papers</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Insights Section -->
        <div class="section">
            <h2>What Makes This Different</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">No Likes, Only Curation</h3>
                    <p>Galleries require explicit curation decisions (featured/visible/hidden) with optional rationale. No engagement metrics.</p>
                </div>

                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">Explainable Everything</h3>
                    <p>Every routing decision shows its reasoning: "because embedding distance = 0.6" or "because host curated as featured."</p>
                </div>

                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">Proof of Human</h3>
                    <p>Stroke variance, timing, corrections prove authentic human work. Can't be faked by AI or copy-paste.</p>
                </div>

                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">Full Portability</h3>
                    <p>.cursive.zip exports include everything: content, provenance, GPS, embeddings, curation manifests. True data sovereignty.</p>
                </div>

                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">Capability-Based</h3>
                    <p>No hidden side effects. Every action (create page, notify, curate) requires explicit capability grant. Auditable.</p>
                </div>

                <div style="border-left: 3px solid #292524; padding-left: 1rem;">
                    <h3 style="margin-top: 0;">Solo or Cohort</h3>
                    <p>Use just pages + routing for personal work, or add invitations + galleries for facilitated experiences.</p>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Canvas drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas ? canvas.getContext('2d') : null;
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        if (canvas) {
            canvas.addEventListener('mousedown', (e) => {
                isDrawing = true;
                const rect = canvas.getBoundingClientRect();
                lastX = e.clientX - rect.left;
                lastY = e.clientY - rect.top;
            });

            canvas.addEventListener('mousemove', (e) => {
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = '#292524';
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.stroke();

                lastX = x;
                lastY = y;
            });

            canvas.addEventListener('mouseup', () => {
                isDrawing = false;
            });

            canvas.addEventListener('mouseleave', () => {
                isDrawing = false;
            });

            // Touch support
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isDrawing = true;
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                lastX = touch.clientX - rect.left;
                lastY = touch.clientY - rect.top;
            });

            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                const x = touch.clientX - rect.left;
                const y = touch.clientY - rect.top;

                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = '#292524';
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.stroke();

                lastX = x;
                lastY = y;
            });

            canvas.addEventListener('touchend', () => {
                isDrawing = false;
            });
        }

        function clearCanvas() {
            if (ctx) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                document.getElementById('styleAnalysis').style.display = 'none';
            }
        }

        function analyzeDrawing() {
            document.getElementById('styleAnalysis').style.display = 'block';
        }

        function showDemo(demo) {
            // Hide all demos
            document.querySelectorAll('.demo-content').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('button[id^="btn-"]').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected demo
            document.getElementById('demo-' + demo).classList.remove('hidden');
            document.getElementById('btn-' + demo).classList.add('active');
        }
    </script>
</body>
</html>